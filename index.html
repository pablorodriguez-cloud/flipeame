<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Generador de Fichas Flipeame</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="brand">
        <div>
          <h1 class="brand-title">Generador de Fichas</h1>
          <p class="brand-subtitle">Uso interno equipo Flipeame</p>
        </div>
      </div>
      <span class="badge">v2 · Diseño Oficial</span>
    </header>

    <main class="app-main">
      <section class="url-card">
        <label for="urlInput" class="url-label">URL de la propiedad</label>
        <div class="url-row">
          <input id="urlInput" type="text" class="url-input" placeholder="Pega el link de Portal Inmobiliario..." />
          <button id="generateBtn" class="btn btn-primary">Generar Ficha</button>
          <button id="copyWhatsAppBtn" class="btn btn-secondary" disabled>Copiar WhatsApp</button>
          <button id="downloadPdfBtn" class="btn btn-outline" disabled>Descargar PDF Oficial</button>
        </div>
        <p id="statusMessage" class="status-message"></p>
      </section>

      <section class="card-container" id="web-preview">
        </section>

      <textarea id="whatsappText" class="hidden-textarea"></textarea>
    </main>
  </div>

  <div id="pdf-wrapper">
    <div id="pdf-template" class="pdf-template">
      
      <header class="pdf-header">
        <div class="pdf-brand">
            <h1 style="color:white; font-weight:800; font-size: 24px; letter-spacing: 1px;">FLIPEAME!</h1>
        </div>
        <div class="pdf-contact-top">
            www.flipeame.com
        </div>
      </header>

      <div class="pdf-hero-section">
        <img id="pdf-hero-img" src="" crossorigin="anonymous" />
        <div class="pdf-price-tag">
            <span id="pdf-price">UF 0.000</span>
        </div>
      </div>

      <div class="pdf-body">
        
        <div class="pdf-main-col">
            <h2 id="pdf-title" class="pdf-property-title">Título de la Propiedad</h2>
            <p id="pdf-address" class="pdf-property-address">Ubicación referencial</p>
            
            <div class="pdf-divider"></div>

            <div class="pdf-section-title">DESCRIPCIÓN</div>
            <p id="pdf-desc" class="pdf-text-content">
                Descripción de la propiedad...
            </p>

            <div class="pdf-section-title" style="margin-top: 20px;">HIGHLIGHTS</div>
            <ul id="pdf-highlights" class="pdf-highlights-list">
                </ul>
        </div>

        <div class="pdf-side-col">
            <div class="pdf-gallery-grid" id="pdf-gallery-grid">
                </div>

            <div class="pdf-specs-box">
                <div class="spec-item">
                    <span class="spec-label">DORMITORIOS</span>
                    <span id="pdf-dorm" class="spec-value">-</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">BAÑOS</span>
                    <span id="pdf-banos" class="spec-value">-</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">TOTAL</span>
                    <span id="pdf-m2-total" class="spec-value">- m²</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">ÚTIL</span>
                    <span id="pdf-m2-util" class="spec-value">- m²</span>
                </div>
                <div class="spec-item full-width">
                    <span class="spec-label">ESTACIONAMIENTOS</span>
                    <span id="pdf-estac" class="spec-value">-</span>
                </div>
                <div class="spec-item full-width">
                    <span class="spec-label">GASTOS COMUNES</span>
                    <span id="pdf-gc" class="spec-value">$ -</span>
                </div>
            </div>

            <div class="pdf-match-box">
                <div class="match-title">MATCH FLIPEAME</div>
                <p id="pdf-match" class="match-text">Ideal para...</p>
            </div>
        </div>
      </div>

      <footer class="pdf-footer">
        <div class="footer-left">
            <div class="agent-name">EQUIPO COMERCIAL</div>
            <div class="agent-phone">+56 9 1234 5678</div>
            <div class="agent-email">contacto@flipeame.com</div>
        </div>
        <div class="footer-right">
            <div class="qr-placeholder">FLIP!</div>
        </div>
      </footer>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
